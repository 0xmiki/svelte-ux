import{S as t,i as e,s as n,e as r,c as o,a as i,d as l,b as a,f as c,G as s,H as h,I as u,x as f,u as p,l as d,X as g,r as m,w as v,_ as z,ab as b,B as w,P as $,aZ as O,a_ as x,Q as y,a8 as E}from"./vendor-3daaceab.js";function C(t){return Object.entries(t).map((([t,e])=>{if(e){return`${t.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${e}`}return null})).filter((t=>t)).join("; ")}const{window:B}=x;function T(t){let e,n,d,g;const m=t[16].default,v=y(m,t,t[15],null);return{c(){e=r("div"),v&&v.c(),this.h()},l(t){e=o(t,"DIV",{class:!0,style:!0,tabindex:!0});var n=i(e);v&&v.l(n),n.forEach(l),this.h()},h(){var r,o;a(e,"class",n="popover fixed z-50 outline-none "+(null!=(r=t[7].class)?r:"")),a(e,"style",d="width: "+t[3]+"; "+C(t[2])+" "+(null!=(o=t[7].style)?o:"")),a(e,"tabindex","-1")},m(n,r){c(n,e,r),v&&v.m(e,null),t[19](e),g=!0},p(t,r){var o,i;v&&v.p&&(!g||32768&r)&&s(v,m,t,t[15],g?u(m,t[15],r,null):h(t[15]),null),(!g||128&r&&n!==(n="popover fixed z-50 outline-none "+(null!=(o=t[7].class)?o:"")))&&a(e,"class",n),(!g||140&r&&d!==(d="width: "+t[3]+"; "+C(t[2])+" "+(null!=(i=t[7].style)?i:"")))&&a(e,"style",d)},i(t){g||(f(v,t),g=!0)},o(t){p(v,t),g=!1},d(n){n&&l(e),v&&v.d(n),t[19](null)}}}function W(t){let e,n,r,o,i=t[0]&&T(t);return{c(){i&&i.c(),e=d()},l(t){i&&i.l(t),e=d()},m(l,a){i&&i.m(l,a),c(l,e,a),n=!0,r||(o=[g(B,"scroll",t[17],{passive:!0}),g(B,"resize",t[18],{passive:!0}),g(B,"keydown",t[5],!0),g(B,"click",t[6],!0)],r=!0)},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&f(i,1)):(i=T(t),i.c(),f(i,1),i.m(e.parentNode,e)):i&&(m(),p(i,1,1,(()=>{i=null})),v())},i(t){n||(f(i),n=!0)},o(t){p(i),n=!1},d(t){i&&i.d(t),t&&l(e),r=!1,z(o)}}}function j(t){switch(t){case"top-start":return{vertical:"top",horizontal:"left"};case"top":return{vertical:"top",horizontal:"center"};case"top-end":return{vertical:"top",horizontal:"right"};case"bottom-start":return{vertical:"bottom",horizontal:"left"};case"bottom":return{vertical:"bottom",horizontal:"center"};case"bottom-end":return{vertical:"bottom",horizontal:"right"};case"left-start":return{vertical:"top",horizontal:"left"};case"left":return{vertical:"center",horizontal:"left"};case"left-end":return{vertical:"bottom",horizontal:"left"};case"right-start":return{vertical:"top",horizontal:"right"};case"right":return{vertical:"center",horizontal:"right"};case"right-end":return{vertical:"bottom",horizontal:"right"}}}function k(t){switch(t){case"top-start":return{vertical:"bottom",horizontal:"left"};case"top":return{vertical:"bottom",horizontal:"center"};case"top-end":return{vertical:"bottom",horizontal:"right"};case"bottom-start":return{vertical:"top",horizontal:"left"};case"bottom":return{vertical:"top",horizontal:"center"};case"bottom-end":case"left-start":return{vertical:"top",horizontal:"right"};case"left":return{vertical:"center",horizontal:"right"};case"left-end":return{vertical:"bottom",horizontal:"right"};case"right-start":return{vertical:"top",horizontal:"left"};case"right":return{vertical:"center",horizontal:"left"};case"right-end":return{vertical:"bottom",horizontal:"left"}}}function P(t,e){if("number"==typeof e)return e;if("top"===e)return 0;if("center"===e)return t.height/2;if("bottom"===e)return t.height;throw new Error(`unhandled origin: ${e}`)}function R(t,e){if("number"==typeof e)return e;if("left"===e)return 0;if("center"===e)return t.width/2;if("right"===e)return t.width;throw new Error(`unhandled origin: ${e}`)}function H(t,e,n){let{$$slots:r={},$$scope:o}=e;const i=b();let l,{placement:a="bottom"}=e,{anchorOrigin:c=j(a)}=e,{popoverOrigin:s=k(a)}=e,{open:h=!1}=e,{marginThreshold:u=8}=e,{offset:f=0}=e,{matchWidth:p=!1}=e,{anchorEl:d}=e,g={top:null,left:null,transformOrigin:null},m=p&&d?`${d.getBoundingClientRect().width}px`:"initial";function v(t,e){const n=function(t){let e={top:0,left:0},n=d.parentElement;for(;n;)"none"!==getComputedStyle(n).transform?(e={top:n.offsetTop,left:n.offsetLeft},n=null):n=n.parentElement;return{top:t.top+P(t,c.vertical)-e.top,left:t.left+R(t,c.horizontal)-e.left}}(t),r=function(t){const e="top"===a?f:"bottom"===a?-f:0,n="left"===a?f:"right"===a?-f:0;return{top:P(t,s.vertical)+e,left:R(t,s.horizontal)+n}}(e);let o=n.top-r.top,i=n.left-r.left;const l=o+e.height,h=i+e.width,p=window.innerHeight-u,g=window.innerWidth-u;if(o<u){const t=o-u;o-=t,r.top+=t}else if(l>p){const t=l-p;o-=t,r.top+=t}if(i<u){const t=i-u;i-=t,r.left+=t}else if(h>g){const t=h-g;i-=t,r.left+=t}return{top:Math.round(o),left:Math.round(i),transformOrigin:(m=s,[m.horizontal,m.vertical].map((t=>"number"==typeof t?`${t}px`:t)).join(" "))};var m}function z(){if(!h||!d||!l)return;const t=d.getBoundingClientRect(),e={top:null,left:null,transformOrigin:null},r=l.getBoundingClientRect();if(t.top<-t.height||t.top>window.innerHeight)return void x("overflow");const{top:o,left:i,transformOrigin:a}=v(t,r);null!==o&&(e.top=`${o}px`),null!==i&&(e.left=`${i}px`),e.transformOrigin=a,n(2,g=e)}function x(t){i("close",t),n(0,h=!1)}return t.$$set=t=>{n(7,e=w(w({},e),$(t))),"placement"in t&&n(9,a=t.placement),"anchorOrigin"in t&&n(10,c=t.anchorOrigin),"popoverOrigin"in t&&n(11,s=t.popoverOrigin),"open"in t&&n(0,h=t.open),"marginThreshold"in t&&n(12,u=t.marginThreshold),"offset"in t&&n(13,f=t.offset),"matchWidth"in t&&n(14,p=t.matchWidth),"anchorEl"in t&&n(8,d=t.anchorEl),"$$scope"in t&&n(15,o=t.$$scope)},t.$$.update=()=>{if(16642&t.$$.dirty){if(n(8,d=null!=d?d:null==l?void 0:l.parentElement),p&&d){const t=d.getBoundingClientRect();n(3,m=`${t.width}px`)}O().then((()=>{z()}))}},e=$(e),[h,l,g,m,z,function(t){h&&"Escape"===t.key&&(t.stopPropagation(),x("escape"))},function(t){h&&d&&!d.contains(t.target)&&(t.stopPropagation(),x("clickOutside"))},e,d,a,c,s,u,f,p,o,r,()=>z(),()=>z(),function(t){E[t?"unshift":"push"]((()=>{l=t,n(1,l)}))}]}class I extends t{constructor(t){super(),e(this,t,H,W,n,{placement:9,anchorOrigin:10,popoverOrigin:11,open:0,marginThreshold:12,offset:13,matchWidth:14,anchorEl:8})}}export{I as P};
